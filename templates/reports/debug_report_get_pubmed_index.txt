
<% 
    import os
    top_5_no_abstracts = [[row[1], row[3]] for row in plotter.hash_vars["file_raw_stats"][1:6]]
    top_5_no_abstracts_transposed = list(map(list, zip(*top_5_no_abstracts)))
    plotter.hash_vars["top_5_no_abstracts"] = top_5_no_abstracts_transposed
    plotter.hash_vars["top_5_no_abstracts"][0] = [os.path.basename(file) for file in plotter.hash_vars["top_5_no_abstracts"][0]]

    plotter.hash_vars["prueba"] = [[1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5]]
%>
${plotter.table(id="prueba", header=True, row_names=False, styled="dt")}
${plotter.table(id="prueba", header=True, row_names=False, styled="bs")}

<style>
.outer {
    display: grid;
    justify-content: center;
    align-items: center;
}
.inner {
    align-self: center;
    justify-self: center;
}
</style>

<table>
    <tr class="outer">
        <td class="inner">
            <h2>Section 1</h2>
            ${
                plotter.barplot(id="total_stats", header=True, row_names= True, 
                title="Pubmed articles stats (total, number of articles without abstract, number of articles without PMID and number of articles with abstracts)", 
                config = { 'graphOrientation' : 'vertical'})
            }
        </td>
    </tr>
    <tr class="outer">
        <td class="inner">
            <h2>Section 2</h2>
            ${
                plotter.barplot(id="total_proportion_stats", header=True, row_names= True, 
                title="Pubmed articles proportion stats (proportion of articles without abstract,\nproportion of articles without PMID and proportion of articles with abstracts)", 
                config = { 'graphOrientation' : 'vertical'})
            }
        </td>
    </tr>
    <tr class="outer">
        <td class="inner">
            <h2>Section 3</h2>
            ${
                plotter.density(id="file_proportion_stats", header=True, row_names= True, fields=[0,2], 
                title="Distribution of proportion of articles without abstract among all (original) PMID chunks")
            }
        </td>
    </tr>
    <tr class="outer">
        <td class="inner">
            <h2>Section 4</h2>
            ${
                plotter.barplot(id="top_5_no_abstracts", header=True, row_names= True, 
                title="Top 5 chunks with the highest number of pubmed articles without abstract", 
                config = { "setMinX": 0})
            }
        </td>
    </tr>
</table>