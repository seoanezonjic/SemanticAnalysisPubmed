
<% 
    import os
    top_5_no_abstracts = [[row[1], row[3]] for row in plotter.hash_vars["file_raw_stats"][1:6]]
    top_5_no_abstracts_transposed = list(map(list, zip(*top_5_no_abstracts)))
    plotter.hash_vars["top_5_no_abstracts"] = top_5_no_abstracts_transposed
    plotter.hash_vars["top_5_no_abstracts"][0] = [os.path.basename(file) for file in plotter.hash_vars["top_5_no_abstracts"][0]]
%>

<table>
    <tr><td>
    <h2>Pubmed articles stats (total, number of articles without abstract, number of articles without PMID and number of articles with abstracts)</h2>
${
    plotter.barplot(id="total_stats", header=True, row_names= True, title="Pumbed articles total stats", config = { 'graphOrientation' : 'vertical'})
}
    </td></tr>
    <tr><td>
    <h2>Pubmed articles proportion stats (proportion of articles without abstract, proportion of articles without PMID and proportion of articles with abstracts)</h2>
${
    plotter.barplot(id="total_proportion_stats", header=True, row_names= True, title="Pumbed articles total proportion stats", config = { 'graphOrientation' : 'vertical'})
}
    </td></tr>
    <tr><td>
    <h2>Distribution of proportion of articles without abstract among all (original) PMID chunks</h2>
${
    plotter.density(id="file_proportion_stats", header=True, row_names= True, fields=[0,2], title="Distribution of proportions of pubmed articles without abstract by chunk")
}
    </td></tr>
    <tr><td>
    <h2>Top 5 chunks with the highest number of pubmed articles without abstract</h2>
${
    plotter.barplot(id="top_5_no_abstracts", header=True, row_names= True, title="Top 5 chunks with the highest number of pubmed articles without abstract", config = { "setMinX": 0})
}
    </td></tr>
</table>