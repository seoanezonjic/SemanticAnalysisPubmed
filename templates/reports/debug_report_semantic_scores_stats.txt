<%
    from collections import Counter
    from matplotlib import rcParams
    rcParams['patch.force_edgecolor'] = True 

    plotter.hash_vars["PMIDs_prevalence"] = [["PREVALENCE"]] + [ [value] for value in list(Counter([row[0] for row in plotter.hash_vars["filtered_scores"]]).values()) ] 
    plotter.hash_vars["HPOs_prevalence"] = [["PREVALENCE"]] + [ [value] for value in list(Counter([row[1] for row in plotter.hash_vars["filtered_scores"]]).values()) ]
    plotter.hash_vars["filtered_scores"].insert(0, ["PMID", "HP", "SIM_SCORE"])
%>

<style>
 img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
</style>

<div>
    <table>
        <tr>
            <td>
                <h1> General distribution of semantic scores (lower threshold: 0.5) </h1>
                ${plotter.static_plot_main(id="filtered_scores", width = 800, height = 800, header=True, row_names= False, fields=[2], title="Semantic Scores", x_label = "Semantic Score", y_label = "Number of relations",
                plotting_function=  lambda data, plotter_list: plotter_list["plt"].hist(data, bins=60) )}
            </td>
        </tr>
        <tr>
            <td>
                <h1> Prevalence distribution of PMIDs </h1>
                ${plotter.static_plot_main(id="PMIDs_prevalence", width = 800, height = 800, header=True, row_names= False, fields=[0], title="PMIDs Prevalence", y_label = "Number of PMIDs", x_label = "Number of HPs related with the PMID",
                plotting_function=  lambda data, plotter_list: plotter_list["plt"].hist(data, bins=20, range=(0, 10)) )}
            </td>
        </tr>
        <tr>
            <td>
                <h1> Prevalence distribution of HPOs </h1>
                ${plotter.static_plot_main(id="HPOs_prevalence", width = 800, height = 800, header=True, row_names= False, fields=[0], title="HPOs Prevalence", y_label = "Number of HPs", x_label = "Number of PMIDs related with the HP",
                plotting_function=  lambda data, plotter_list: plotter_list["plt"].hist(data, bins=60, range=(0, 200))  )}
            </td>
        </tr>            
    </table>
</div>